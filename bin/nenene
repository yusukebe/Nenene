#!/usr/bin/perl
use strict;
use warnings;
use FindBin::libs;
use Nenene;
use Plack::Runner;
use Plack::Middleware::Static;

my $dir = shift or die "Argument: doc path is required!\n";
my $nenene = Nenene->new( dir => $dir, template => './templates/index.tt2' );
my $app = $nenene->handler();
$app = Plack::Middleware::Static->wrap( $app, path => qr{^/static/}, root => './root' );
my $runner = Plack::Runner->new();
$runner->parse_options(@_);
$runner->run($app);
